# API 응답/설명 리포트

- generated_at: 2025-12-23T00:33:14.919602Z
- base_url: http://localhost:8000

## 헬스체크
- endpoint: GET /ai/health/
- url: http://localhost:8000/ai/health/
- status: 200
- content_type: application/json
- description: 서버와 외부 AI 서비스(Gemini/Tavily/Exa) 연결 가능 여부를 확인합니다.
- implementation: HealthCheckAPIView에서 각 클라이언트의 available() 결과를 수집해 응답합니다.
- response:
```
{
  "status": "ok",
  "version": "1.0.0",
  "services": {
    "gemini": true,
    "tavily": true,
    "exa": true,
    "graph_rag": true,
    "semantic_cache": true
  },
  "timestamp": "2025-12-23T00:33:14.946564"
}
```

## OpenAPI 스키마
- endpoint: GET /ai/schema/
- url: http://localhost:8000/ai/schema/
- status: 200
- content_type: application/vnd.oai.openapi; charset=utf-8
- description: DRF Spectacular가 생성한 OpenAPI 스키마 JSON입니다.
- implementation: SpectacularAPIView.as_view()로 노출됩니다.
- response:
```
openapi: 3.0.3
info:
  title: Jagalchi AI API
  version: 1.0.0
  description: Jagalchi AI 서버 REST API 문서 (Generated by drf-spectacular)
paths:
  /ai/comment-digest:
    get:
      operationId: comment_digest_retrieve
      description: |-
        최근 코멘트에서 이슈 하이라이트와 병목 노드를 요약합니다. 기간(period_days) 기준으로 집계하고, 병목 점수는 질문 수/부정 반응/미해결 비율로 계산됩니다.

        응답 필드 요약:
        - highlights: 주요 이슈 문장
        - bottlenecks: node_id/score/top_topics
      summary: 코멘트 다이제스트
      parameters:
      - in: query
        name: period_days
        schema:
          type: integer
        description: 기간(일)
      - in: query
        name: roadmap_id
        schema:
          type: string
        description: 로드맵 ID
      tags:
      - comment-digest
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommentDigest'
          description: ''
  /ai/comment-duplicates:
    get:
      operationId: comment_duplicates_list
      description: |-
        질문 작성 시 유사한 기존 질문을 추천합니다. LLM 없이 벡터 유사도 기반으로 빠르게 후보를 제시합니다.

        응답 필드 요약:
        - comment_id/snippet 목록
      summary: 중복 질문 후보
      parameters:
      - in: query
        name: query
        schema:
          type: string
        description: 질문
      - in: query
        name: roadmap_id
        schema:
          type: string
        description: 로드맵 ID
      - in: query
        name: top_k
        schema:
          type: integer
        description: 추천 개수
      tags:
      - comment-duplicates
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DuplicateSuggestItem'
          description: ''
  /ai/demo:
    get:
      operationId: demo_retrieve
      description: |-
        Jaglachi AI 핵심 기능을 한 번에 호출하는 통합 데모 API입니다. 학습기록 피드백, 연관 로드맵, 기술 카드/태그, 코멘트 인텔리전스, 학습 패턴, GraphRAG, 로드맵 생성/추천, 학습 코치까지 묶어서 반환합니다.

        응답 필드 요약:
        - record_coach: 학습기록 루브릭/개선안
        - related_roadmaps: 연관 로드맵 후보
        - tech_card / tech_fingerprint: 기술 카드 + 태그 지문
        - comment_digest / duplicate_suggest: 코멘트 요약/중복 질문
        - resource_recommendation: 자료 추천
        - learning_pattern: 학습 패턴 분석
        - graph_rag_context: 그래프 근거
        - roadmap_generated / roadmap_recommendation: 생성/추천
        - learning_coach: 학습 코치 응답

        프론트 사용 팁:
        - 개발 중 대시보드/카드 UI의 샘플 데이터를 한 번에 얻고 싶을 때 사용하세요.
      summary: AI 데모 통합
      parameters:
      - in: query
        name: compose_level
        schema:
          type: string
          enum:
          - full
          - quick
        description: '답변 상세 수준 (quick: 캐시/로컬 중심, full: LLM 포함)'
      - in: query
        name: goal
        schema:
          type: string
        description: 로드맵 생성 목표 문장
      - in: query
        name: include_rationale
        schema:
          type: boolean
        description: 태그 rationale 포함 여부 (true/false)
      - in: query
        name: question
        schema:
          type: string
        description: 질문/검색 문장 (기본 예시 포함)
      - in: query
        name: roadmap_id
        schema:
          type: string
        description: '로드맵 ID (기본: rm_frontend)'
      - in: query
        name: target_role
        schema:
          type: string
        description: 추천 대상 역할
      - in: query
        name: tech_slug
        schema:
          type: string
        description: '기술 카드 슬러그 (기본: react)'
      - in: query
        name: user_id
        schema:
          type: string
        description: '사용자 ID (기본: user_1)'
      tags:
      - demo
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
              examples:
                Demo:
                  value:
                    meta:
                      generated_at: '2025-01-01T00:00:00Z'
                      roadmap_id: rm_frontend
                      tech_slug: react
                      user_id: user_1
                      compose_level: quick
                    record_coach:
                      record_id: rec1
                      scores:
                        quality_score: 62
                    related_roadmaps:
                      roadmap_id: rm_frontend
                      candidates: []
                  summary: demo
          description: ''
  /ai/document-roadmap:
    get:
      operationId: document_roadmap_retrieve
      description: |-
        이력서/학습계획서 등 문서를 분석해 키워드와 관련 로드맵을 추천합니다. 문서 요약, 추출 키워드, 추천 근거를 함께 반환합니다.

        응답 필드 요약:
        - document_summary: 문서 요약
        - extracted_keywords: 핵심 키워드
        - recommended_roadmaps: 추천 로드맵 목록
        - suggested_topics: 후속 학습 주제
      summary: 문서 기반 로드맵 추천
      parameters:
      - in: query
        name: document
        schema:
          type: string
        description: 분석할 문서 내용 (이력서, 학습 계획 등)
      - in: query
        name: goal
        schema:
          type: string
        description: '목표 직군/분야 (예: ''Backend Developer'')'
      tags:
      - document-roadmap
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentRoadmap'
          description: ''
    post:
      operationId: document_roadmap_create
      description: 문서를 JSON body로 제출해 분석합니다. GET과 동일한 스키마를 반환하며, 길이가 긴 문서는 POST를 권장합니다.
      summary: 문서 기반 로드맵 추천 (POST)
      tags:
      - document-roadmap
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                document:
                  type: string
                goal:
                  type: string
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentRoadmap'
          description: ''
  /ai/graph-rag:
    get:
      operationId: graph_rag_retrieve
      description: |-
        그래프 기반 RAG 검색 결과를 반환합니다. 근거 스니펫과 그래프 스냅샷(nodes/edges)을 함께 제공하여 추천/요약/설명 UI의 근거로 사용할 수 있습니다.

        응답 필드 요약:
        - retrieval_evidence: source/id/snippet
        - graph_snapshot: nodes/edges
      summary: GraphRAG 컨텍스트
      parameters:
      - in: query
        name: query
        schema:
          type: string
        description: 검색 질의
      - in: query
        name: top_k
        schema:
          type: integer
        description: 근거 개수
      tags:
      - graph-rag
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GraphRAGContext'
          description: ''
  /ai/health/:
    get:
      operationId: health_retrieve
      description: |-
        서버 상태 및 외부 AI 서비스 연결 가능 여부를 반환합니다. 모니터링/배포 시 서비스 가용성 체크에 사용하세요.

        응답 필드 요약:
        - services: gemini/tavily/exa/graph_rag/semantic_cache 사용 가능 여부
        - timestamp: 체크 시각
      summary: 헬스체크
      tags:
      - health
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthCheck'
          description: ''
  /ai/learning-coach:
    get:
      operationId: learning_coach_retrieve
      description: |-
        질문 의도 분류 → 도구 실행 → 답변 구성의 멀티스테이지 학습 코치 응답입니다. compose_level=quick은 캐시/로컬 요약 중심, full은 LLM 정제까지 포함합니다.

        응답 필드 요약:
        - intent/toolchain/plan: 의도와 실행 계획
        - answer: 최종 답변
        - retrieval_evidence: 근거 스니펫
        - behavior_summary: 동기/능력/이탈 위험도
      summary: 학습 코치 Q&A
      parameters:
      - in: query
        name: compose_level
        schema:
          type: string
          enum:
          - full
          - quick
        description: quick(캐시/로컬 중심) 또는 full(LLM 정제 포함)
      - in: query
        name: question
        schema:
          type: string
        description: 질문
      - in: query
        name: user_id
        schema:
          type: string
        description: 사용자 ID
      tags:
      - learning-coach
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningCoach'
          description: ''
  /ai/learning-pattern:
    get:
      operationId: learning_pattern_retrieve
      description: |-
        학습 이벤트 로그를 기반으로 활동 일수, 평균 세션 간격, 완료 속도 등을 요약합니다. 캐시 스냅샷으로 동일 입력에 대해 빠르게 응답합니다.

        응답 필드 요약:
        - patterns: active_days/avg_session_gap_days/completion_velocity
        - recommendations: 학습 패턴 개선 제안
      summary: 학습 패턴 분석
      parameters:
      - in: query
        name: days
        schema:
          type: integer
        description: 기간(일)
      - in: query
        name: user_id
        schema:
          type: string
        description: 사용자 ID
      tags:
      - learning-pattern
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LearningPattern'
          description: ''
  /ai/record-coach:
    get:
      operationId: record_coach_retrieve
      description: |-
        학습 기록을 루브릭으로 점수화하고 개선 포인트/수정 제안을 제공합니다. compose_level=quick은 점수/질문 중심으로 빠르게 반환하며, compose_level=full은 LLM 문장화까지 포함합니다.

        응답 필드 요약:
        - scores: evidence/structure/specificity/reproducibility/quality
        - strengths/gaps: 장점/보완점 리스트
        - rewrite_suggestions: 포트폴리오용 문장/메모 개선안
        - followup_questions: 기록 보완 질문
        - retrieval_evidence: 근거 스니펫 목록
      summary: 학습 기록 피드백 (Record Coach)
      parameters:
      - in: query
        name: compose_level
        schema:
          type: string
          enum:
          - full
          - quick
        description: quick(점수/질문 중심) 또는 full(문장 개선 포함)
      - in: query
        name: node_id
        schema:
          type: string
        description: 로드맵 노드 ID
      - in: query
        name: roadmap_id
        schema:
          type: string
        description: 로드맵 ID
      tags:
      - record-coach
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecordCoach'
          description: ''
  /ai/related-roadmaps:
    get:
      operationId: related_roadmaps_retrieve
      description: |-
        행동/콘텐츠/그래프 유사도를 종합하여 연관 로드맵 후보를 반환합니다. LLM 없이 점수 기반으로 랭킹되며, reasons 필드로 추천 근거를 숫자화합니다.

        응답 필드 요약:
        - candidates: related_roadmap_id/score/reasons
        - evidence_snapshot: 랭킹 피처 스냅샷
        - model_version: 랭커 버전
      summary: 연관 로드맵 추천
      parameters:
      - in: query
        name: roadmap_id
        schema:
          type: string
        description: 로드맵 ID
      tags:
      - related-roadmaps
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RelatedRoadmaps'
          description: ''
  /ai/resource-recommendation:
    get:
      operationId: resource_recommendation_retrieve
      description: |-
        로컬 지식베이스(BM25/Vector)와 최신 웹 검색 결과를 합쳐 학습 자료를 추천합니다. 캐시는 쿼리/recency_days 기준으로 저장되며 응답은 items 배열과 retrieval_evidence를 포함합니다.

        응답 필드 요약:
        - items: title/url/source/score 목록
        - retrieval_evidence: 근거 스니펫 목록
        - model_version, generated_at: 스냅샷 메타데이터

        프론트 사용 팁:
        - 최신 자료 우선이 필요하면 recency_days를 줄여 호출하세요.
      summary: 학습 자료 추천
      parameters:
      - in: query
        name: query
        schema:
          type: string
        description: '검색 질의 (예: ''React hooks 상태 관리'')'
      - in: query
        name: recency_days
        schema:
          type: integer
        description: 최신 자료 기준 기간(일). 기본 30, 0/미지정은 제한 없음
      - in: query
        name: top_k
        schema:
          type: integer
        description: 추천 개수 (기본 3)
      tags:
      - resource-recommendation
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceRecommendation'
          description: ''
  /ai/roadmap-generated:
    get:
      operationId: roadmap_generated_retrieve
      description: |-
        목표(goal)와 선호 태그를 기반으로 로드맵을 생성합니다. compose_level=quick은 규칙 기반으로, full은 LLM 문장화를 포함합니다.

        응답 필드 요약:
        - nodes/edges/tags: 생성된 로드맵 구성 요소
        - retrieval_evidence: 생성 근거 스니펫
      summary: 로드맵 생성
      parameters:
      - in: query
        name: compose_level
        schema:
          type: string
          enum:
          - full
          - quick
        description: quick(규칙 기반) 또는 full(LLM 문장화 포함)
      - in: query
        name: goal
        schema:
          type: string
        description: 목표
      - in: query
        name: max_nodes
        schema:
          type: integer
        description: 노드 개수
      - in: query
        name: preferred_tags
        schema:
          type: string
        description: 태그(콤마 구분)
      tags:
      - roadmap-generated
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoadmapGenerated'
          description: ''
  /ai/roadmap-recommendation:
    get:
      operationId: roadmap_recommendation_retrieve
      description: |-
        목표 역할과 강조 태그를 기준으로 그래프 온톨로지에서 학습 순서를 추천합니다. GNN 예측 결과도 함께 제공합니다.

        응답 필드 요약:
        - nodes: node_id/status
        - edges: 그래프 엣지
        - gnn_predictions: 다음 학습 후보
      summary: 그래프 기반 로드맵 추천
      parameters:
      - in: query
        name: target_role
        schema:
          type: string
        description: 목표 역할
      - in: query
        name: user_id
        schema:
          type: string
        description: 사용자 ID
      tags:
      - roadmap-recommendation
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RoadmapRecommendation'
          description: ''
  /ai/tech-cards:
    get:
      operationId: tech_cards_retrieve
      description: |-
        기술의 요약/사용 시점/대안/주의사항/학습 경로를 카드 형태로 제공합니다. 카드는 소스 해시 기반 스냅샷으로 관리되어 동일 소스면 재생성되지 않습니다.

        응답 필드 요약:
        - summary/why_it_matters/when_to_use/pitfalls
        - alternatives: 대안 기술 목록
        - learning_path: 단계별 학습 제안
        - sources: 출처 목록 (title/url/fetched_at)
      summary: 기술 카드
      parameters:
      - in: query
        name: tech_slug
        schema:
          type: string
        description: 기술 슬러그
      tags:
      - tech-cards
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TechCard'
          description: ''
  /ai/tech-fingerprint:
    get:
      operationId: tech_fingerprint_retrieve
      description: |-
        로드맵 텍스트에서 핵심 기술을 추출해 core/optional/alternative/deprecated 타입으로 분류합니다. include_rationale=true일 때만 근거 문장을 포함합니다.

        응답 필드 요약:
        - tags: tech_slug/type/confidence/rationale(optional)
        - model_version/generated_at: 스냅샷 메타
      summary: 기술 지문 자동 태깅
      parameters:
      - in: query
        name: include_rationale
        schema:
          type: boolean
        description: rationale 포함 여부
      - in: query
        name: roadmap_id
        schema:
          type: string
        description: 로드맵 ID
      tags:
      - tech-fingerprint
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TechFingerprint'
          description: ''
  /ai/web-search:
    get:
      operationId: web_search_retrieve
      description: |-
        Tavily(웹 검색) + Exa(시맨틱 검색)을 조합해 최신 학습 자료를 수집합니다. 기본적으로 최근 N일(기본 30일) 내 문서를 우선하며, 엔진 선택과 기간 필터를 파라미터로 제어할 수 있습니다.

        응답 필드 요약:
        - results: title/url/content/score/source/fetched_at
        - engines_used: 실제 사용된 엔진 목록
        - generated_at: 스냅샷 생성 시각

        프론트 사용 팁:
        - 최신성 강조: recency_days를 7~30으로 설정
        - 출처 다양성: engine=all 권장
      summary: 웹 검색 (Tavily/Exa)
      parameters:
      - in: query
        name: engine
        schema:
          type: string
          enum:
          - all
          - exa
          - tavily
        description: '사용할 검색 엔진 (tavily/exa/all, 기본: all)'
      - in: query
        name: query
        schema:
          type: string
        description: '검색 쿼리 (예: ''Python 비동기 프로그래밍'')'
        required: true
      - in: query
        name: recency_days
        schema:
          type: integer
        description: 최신 자료 기준 기간(일). 기본 30, 0/미지정은 제한 없음
      - in: query
        name: top_k
        schema:
          type: integer
        description: '반환할 최대 결과 수 (기본: 5, 최대: 20)'
      tags:
      - web-search
      security:
      - cookieAuth: []
      - basicAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WebSearch'
          description: ''
components:
  schemas:
    Alternative:
      type: object
      properties:
        slug:
          type: string
        why:
          type: string
      required:
      - slug
      - why
    CommentDigest:
      type: object
      properties:
        roadmap_id:
          type: string
        period:
          type: string
        highlights:
          type: array
          items:
            type: string
        bottlenecks:
          type: array
          items:
            $ref: '#/components/schemas/CommentDigestBottleneck'
        generated_by:
          $ref: '#/components/schemas/GeneratedBy'
      required:
      - bottlenecks
      - generated_by
      - highlights
      - period
      - roadmap_id
    CommentDigestBottleneck:
      type: object
      properties:
        node_id:
          type: string
        score:
          type: number
          format: double
        top_topics:
          type: array
          items:
            type: string
      required:
      - node_id
      - score
      - top_topics
    DocumentRoadmap:
      type: object
      description: 문서 기반 로드맵 추천 API 응답 시리얼라이저.
      properties:
        document_summary:
          type: string
          description: 문서 요약 (AI 분석 결과)
        extracted_keywords:
          type: array
          items:
            type: string
          description: 추출된 핵심 키워드
        recommended_roadmaps:
          type: array
          items:
            $ref: '#/components/schemas/RelatedRoadmapCandidate'
          description: 추천 로드맵 목록
        suggested_topics:
          type: array
          items:
            type: string
          description: 학습 권장 주제
        model_version:
          type: string
          description: 사용된 모델 버전
        created_at:
          type: string
          description: 생성 일시
      required:
      - created_at
      - document_summary
      - extracted_keywords
      - model_version
      - recommended_roadmaps
      - suggested_topics
    DuplicateSuggestItem:
      type: object
      properties:
        comment_id:
          type: string
        snippet:
          type: string
      required:
      - comment_id
      - snippet
    GeneratedBy:
      type: object
      properties:
        model_version:
          type: string
        prompt_version:
          type: string
          nullable: true
      required:
      - model_version
    GraphEdge:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        type:
          type: string
          nullable: true
      required:
      - source
      - target
    GraphNode:
      type: object
      properties:
        node_id:
          type: string
        text:
          type: string
        tags:
          type: array
          items:
            type: string
      required:
      - node_id
      - tags
      - text
    GraphRAGContext:
      type: object
      properties:
        retrieval_evidence:
          type: array
          items:
            $ref: '#/components/schemas/RetrievalEvidence'
        graph_snapshot:
          $ref: '#/components/schemas/GraphSnapshot'
      required:
      - graph_snapshot
      - retrieval_evidence
    GraphSnapshot:
      type: object
      properties:
        nodes:
          type: array
          items:
            $ref: '#/components/schemas/GraphNode'
        edges:
          type: array
          items:
            $ref: '#/components/schemas/GraphEdge'
      required:
      - edges
      - nodes
    HealthCheck:
      type: object
      description: API 헬스체크 응답 시리얼라이저.
      properties:
        status:
          type: string
          description: 서버 상태 (ok/error)
        version:
          type: string
          description: API 버전
        services:
          type: object
          additionalProperties:
            type: boolean
          description: 각 서비스 사용 가능 여부
        timestamp:
          type: string
          description: 헬스체크 수행 일시
      required:
      - services
      - status
      - timestamp
      - version
    LatestChanges:
      type: object
      properties:
        changed:
          type: boolean
        change_ratio:
          type: number
          format: double
        summary:
          type: string
      required:
      - change_ratio
      - changed
      - summary
    LearningCoach:
      type: object
      properties:
        user_id:
          type: string
        question:
          type: string
        intent:
          type: string
        toolchain:
          type: array
          items:
            type: string
        plan:
          type: array
          items:
            type: string
        answer:
          type: string
        retrieval_evidence:
          type: array
          items:
            $ref: '#/components/schemas/RetrievalEvidence'
        behavior_summary: {}
        model_version:
          type: string
        prompt_version:
          type: string
        created_at:
          type: string
        cache_hit:
          type: boolean
      required:
      - answer
      - behavior_summary
      - cache_hit
      - created_at
      - intent
      - model_version
      - plan
      - prompt_version
      - question
      - retrieval_evidence
      - toolchain
      - user_id
    LearningPathStage:
      type: object
      properties:
        stage:
          type: string
        items:
          type: array
          items:
            type: string
      required:
      - items
      - stage
    LearningPattern:
      type: object
      properties:
        user_id:
          type: string
        period:
          type: string
        patterns: {}
        recommendations:
          type: array
          items:
            type: string
        model_version:
          type: string
        generated_at:
          type: string
      required:
      - generated_at
      - model_version
      - patterns
      - period
      - recommendations
      - user_id
    NextAction:
      type: object
      properties:
        effort:
          type: string
        task:
          type: string
      required:
      - effort
      - task
    RecordCoach:
      type: object
      properties:
        record_id:
          type: string
        model_version:
          type: string
        prompt_version:
          type: string
        created_at:
          type: string
        scores:
          $ref: '#/components/schemas/RecordCoachScore'
        strengths:
          type: array
          items:
            type: string
        gaps:
          type: array
          items:
            type: string
        rewrite_suggestions:
          $ref: '#/components/schemas/RecordCoachRewrite'
        code_feedback: {}
        next_actions:
          type: array
          items:
            $ref: '#/components/schemas/NextAction'
        followup_questions:
          type: array
          items:
            type: string
        retrieval_evidence:
          type: array
          items:
            $ref: '#/components/schemas/RetrievalEvidence'
      required:
      - code_feedback
      - created_at
      - followup_questions
      - gaps
      - model_version
      - next_actions
      - prompt_version
      - record_id
      - retrieval_evidence
      - rewrite_suggestions
      - scores
      - strengths
    RecordCoachRewrite:
      type: object
      properties:
        portfolio_bullets:
          type: array
          items:
            type: string
        improved_memo:
          type: string
      required:
      - improved_memo
      - portfolio_bullets
    RecordCoachScore:
      type: object
      properties:
        evidence_level:
          type: integer
        structure_score:
          type: integer
        specificity_score:
          type: integer
        reproducibility_score:
          type: integer
        quality_score:
          type: integer
      required:
      - evidence_level
      - quality_score
      - reproducibility_score
      - specificity_score
      - structure_score
    ReelEvidence:
      type: object
      properties:
        query:
          type: string
        snippet:
          type: string
      required:
      - query
      - snippet
    RelatedRoadmapCandidate:
      type: object
      properties:
        related_roadmap_id:
          type: string
        score:
          type: number
          format: double
        reasons:
          type: array
          items:
            $ref: '#/components/schemas/RelatedRoadmapReason'
      required:
      - reasons
      - related_roadmap_id
      - score
    RelatedRoadmapReason:
      type: object
      properties:
        type:
          type: string
        value: {}
      required:
      - type
      - value
    RelatedRoadmaps:
      type: object
      properties:
        roadmap_id:
          type: string
        generated_at:
          type: string
        candidates:
          type: array
          items:
            $ref: '#/components/schemas/RelatedRoadmapCandidate'
        model_version:
          type: string
        evidence_snapshot: {}
      required:
      - candidates
      - evidence_snapshot
      - generated_at
      - model_version
      - roadmap_id
    ReliabilityMetrics:
      type: object
      properties:
        community_score:
          type: integer
        doc_freshness:
          type: integer
        source_count:
          type: integer
      required:
      - community_score
      - doc_freshness
      - source_count
    ResourceItem:
      type: object
      properties:
        title:
          type: string
        url:
          type: string
        source:
          type: string
        score:
          type: number
          format: double
      required:
      - score
      - source
      - title
      - url
    ResourceRecommendation:
      type: object
      properties:
        query:
          type: string
        generated_at:
          type: string
        items:
          type: array
          items:
            $ref: '#/components/schemas/ResourceItem'
        model_version:
          type: string
        retrieval_evidence:
          type: array
          items:
            $ref: '#/components/schemas/RetrievalEvidence'
      required:
      - generated_at
      - items
      - model_version
      - query
      - retrieval_evidence
    RetrievalEvidence:
      type: object
      properties:
        source:
          type: string
        id:
          type: string
        snippet:
          type: string
      required:
      - id
      - snippet
      - source
    RoadmapEdge:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        type:
          type: string
          nullable: true
      required:
      - source
      - target
    RoadmapGenerated:
      type: object
      properties:
        roadmap_id:
          type: string
        title:
          type: string
        description:
          type: string
        nodes:
          type: array
          items:
            $ref: '#/components/schemas/RoadmapNode'
        edges:
          type: array
          items:
            $ref: '#/components/schemas/RoadmapEdge'
        tags:
          type: array
          items:
            type: string
        model_version:
          type: string
        prompt_version:
          type: string
        created_at:
          type: string
        retrieval_evidence:
          type: array
          items:
            $ref: '#/components/schemas/RetrievalEvidence'
      required:
      - created_at
      - description
      - edges
      - model_version
      - nodes
      - prompt_version
      - retrieval_evidence
      - roadmap_id
      - tags
      - title
    RoadmapNode:
      type: object
      properties:
        node_id:
          type: string
        title:
          type: string
        tags:
          type: array
          items:
            type: string
      required:
      - node_id
      - tags
      - title
    RoadmapRecommendation:
      type: object
      properties:
        roadmap_id:
          type: string
        target_role:
          type: string
        nodes:
          type: array
          items:
            $ref: '#/components/schemas/RoadmapRecommendationNode'
        edges:
          type: array
          items:
            $ref: '#/components/schemas/RoadmapEdge'
        gnn_predictions:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
        model_version:
          type: string
        created_at:
          type: string
      required:
      - created_at
      - edges
      - gnn_predictions
      - model_version
      - nodes
      - roadmap_id
      - target_role
    RoadmapRecommendationNode:
      type: object
      properties:
        node_id:
          type: string
        status:
          type: string
      required:
      - node_id
      - status
    TechCard:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        category:
          type: string
        tech_slug:
          type: string
        version:
          type: string
        summary:
          type: string
        summary_vector:
          type: array
          items:
            type: number
            format: double
        why_it_matters:
          type: array
          items:
            type: string
        when_to_use:
          type: array
          items:
            type: string
        alternatives:
          type: array
          items:
            $ref: '#/components/schemas/Alternative'
        pitfalls:
          type: array
          items:
            type: string
        learning_path:
          type: array
          items:
            $ref: '#/components/schemas/LearningPathStage'
        metadata:
          $ref: '#/components/schemas/TechCardMetadata'
        relationships: {}
        reliability_metrics:
          $ref: '#/components/schemas/ReliabilityMetrics'
        latest_changes:
          $ref: '#/components/schemas/LatestChanges'
        reel_evidence:
          type: array
          items:
            $ref: '#/components/schemas/ReelEvidence'
        sources:
          type: array
          items:
            $ref: '#/components/schemas/TechCardSource'
        generated_by:
          $ref: '#/components/schemas/GeneratedBy'
      required:
      - alternatives
      - category
      - generated_by
      - id
      - latest_changes
      - learning_path
      - metadata
      - name
      - pitfalls
      - reel_evidence
      - relationships
      - reliability_metrics
      - sources
      - summary
      - summary_vector
      - tech_slug
      - version
      - when_to_use
      - why_it_matters
    TechCardMetadata:
      type: object
      properties:
        language:
          type: string
        license:
          type: string
        latest_version:
          type: string
        last_updated:
          type: string
      required:
      - language
      - last_updated
      - latest_version
      - license
    TechCardSource:
      type: object
      properties:
        title:
          type: string
        url:
          type: string
        fetched_at:
          type: string
      required:
      - fetched_at
      - title
      - url
    TechFingerprint:
      type: object
      properties:
        roadmap_id:
          type: string
        tags:
          type: array
          items:
            $ref: '#/components/schemas/TechFingerprintTag'
        generated_at:
          type: string
        model_version:
          type: string
      required:
      - generated_at
      - model_version
      - roadmap_id
      - tags
    TechFingerprintTag:
      type: object
      properties:
        tech_slug:
          type: string
        type:
          type: string
        confidence:
          type: number
          format: double
        rationale:
          type: string
          nullable: true
      required:
      - confidence
      - tech_slug
      - type
    WebSearch:
      type: object
      description: 웹 검색 API 응답 시리얼라이저.
      properties:
        query:
          type: string
          description: 검색 쿼리
        results:
          type: array
          items:
            $ref: '#/components/schemas/WebSearchResult'
          description: 검색 결과 목록
        generated_at:
          type: string
          description: 응답 생성 일시
        engines_used:
          type: array
          items:
            type: string
          description: 사용된 검색 엔진 목록
        total_results:
          type: integer
          description: 총 검색 결과 수
      required:
      - engines_used
      - generated_at
      - query
      - results
      - total_results
    WebSearchResult:
      type: object
      description: 웹 검색 결과 항목 시리얼라이저.
      properties:
        title:
          type: string
          description: 검색 결과 제목
        url:
          type: string
          description: 검색 결과 URL
        content:
          type: string
          description: 검색 결과 내용 요약
        score:
          type: number
          format: double
          description: 관련성 점수 (0.0 ~ 1.0)
        source:
          type: string
          description: 검색 엔진 출처 (tavily/exa)
        fetched_at:
          type: string
          description: 검색 수행 일시
      required:
      - content
      - fetched_at
      - score
      - source
      - title
      - url
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
```

## Swagger UI
- endpoint: GET /ai/docs/
- url: http://localhost:8000/ai/docs/
- status: 200
- content_type: text/html; charset=utf-8
- description: OpenAPI 스키마를 Swagger UI로 렌더링합니다.
- implementation: SpectacularSwaggerView에서 schema URL을 참조합니다.
- response:
```
<!DOCTYPE html>
<html>
  <head>
    
    <title>Jagalchi AI API</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@latest/favicon-32x32.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@latest/swagger-ui.css">
    <style>
      html { box-sizing: border-box; overflow-y: scroll; }
      *, *:after, *:before { box-sizing: inherit; }
      body { background: #fafafa; margin: 0; }
    </style>
    
  </head>
  <body>
    
    <div id="swagger-ui"></div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@latest/swagger-ui-bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@latest/swagger-ui-standalone-preset.js"></script>
    
    <script>
    "use strict";

const swaggerSettings = {
  "deepLinking": true
};
const schemaAuthNames = [];
let schemaAuthFailed = false;
const plugins = [];

const reloadSchemaOnAuthChange = () => {
  return {
    statePlugins: {
      auth: {
        wrapActions: {
          authorizeOauth2:(ori) => (...args) => {
            schemaAuthFailed = false;
            setTimeout(() => ui.specActions.download());
            return ori(...args);
          },
          authorize: (ori) => (...args) => {
            schemaAuthFailed = false;
            setTimeout(() => ui.specActions.download());
            return ori(...args);
          },
          logout: (ori) => (...args) => {
            schemaAuthFailed = false;
            setTimeout(() => ui.specActions.download());
            return ori(...args);
          },
        },
      },
    },
  };
};

if (schemaAuthNames.length > 0) {
  plugins.push(reloadSchemaOnAuthChange);
}

const uiInitialized = () => {
  try {
    ui;
    return true;
  } catch {
    return false;
  }
};

const isSchemaUrl = (url) => {
  if (!uiInitialized()) {
    return false;
  }
  return url === new URL(ui.getConfigs().url, document.baseURI).href;
};

const responseInterceptor = (response, ...args) => {
  if (!response.ok && isSchemaUrl(response.url)) {
    console.warn("schema request received '" + response.status + "'. disabling credentials for schema till logout.");
    if (!schemaAuthFailed) {
      // only retry once to prevent endless loop.
      schemaAuthFailed = true;
      setTimeout(() => ui.specActions.download());
    }
  }
  return response;
};

const injectAuthCredentials = (request) => {
  let authorized;
  if (uiInitialized()) {
    const state = ui.getState().get("auth").get("authorized");
    if (state !== undefined && Object.keys(state.toJS()).length !== 0) {
      authorized = state.toJS();
    }
  } else if (![undefined, "{}"].includes(localStorage.authorized)) {
    authorized = JSON.parse(localStorage.authorized);
  }
  if (authorized === undefined) {
    return;
  }
  for (const authName of schemaAuthNames) {
    const authDef = authorized[authName];
    if (authDef === undefined || authDef.schema === undefined) {
      continue;
    }
    if (authDef.schema.type === "http" && authDef.schema.scheme === "bearer") {
      request.headers["Authorization"] = "Bearer " + authDef.value;
      return;
    } else if (authDef.schema.type === "http" && authDef.schema.scheme === "basic") {
      request.headers["Authorization"] = "Basic " + btoa(authDef.value.username + ":" + authDef.value.password);
      return;
    } else if (authDef.schema.type === "apiKey" && authDef.schema.in === "header") {
      request.headers[authDef.schema.name] = authDef.value;
      return;
    } else if (authDef.schema.type === "oauth2" && authDef.token.token_type === "Bearer") {
      request.headers["Authorization"] = `Bearer ${authDef.token.access_token}`;
      return;
    }
  }
};

const requestInterceptor = (request, ...args) => {
  if (request.loadSpec && schemaAuthNames.length > 0 && !schemaAuthFailed) {
    try {
      injectAuthCredentials(request);
    } catch (e) {
      console.error("schema auth injection failed with error: ", e);
    }
  }
  // selectively omit adding headers to mitigate CORS issues.
  if (!["GET", undefined].includes(request.method) && request.credentials === "same-origin") {
    request.headers["X-CSRFTOKEN"] = "1CrPlfyi1HgCjJxm80fmxdZgqtx0CC3TZ9xB4ZIZ5ylLAQMYExLmXfNTSLeZ0RH9";
  }
  return request;
};

const ui = SwaggerUIBundle({
  url: "/ai/schema/",
  dom_id: "#swagger-ui",
  presets: [SwaggerUIBundle.presets.apis],
  plugins,
  layout: "BaseLayout",
  requestInterceptor,
  responseInterceptor,
  ...swaggerSettings,
});

ui.initOAuth({});

    </script>
    
    
  </body>
</html>
```

## Redoc
- endpoint: GET /ai/redoc/
- url: http://localhost:8000/ai/redoc/
- status: 200
- content_type: text/html; charset=utf-8
- description: OpenAPI 스키마를 Redoc UI로 렌더링합니다.
- implementation: SpectacularRedocView에서 schema URL을 참조합니다.
- response:
```
<!DOCTYPE html>
<html>
  <head>
    
    <title>Jagalchi AI API</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap">
    <style>
      
      body { margin: 0; padding: 0; }
    </style>
    
  </head>
  <body>
    
    
    <redoc spec-url="/ai/schema/"></redoc>
    <script src="https://cdn.jsdelivr.net/npm/redoc@latest/bundles/redoc.standalone.js"></script>
    
    
  </body>
</html>
```

## AI 데모 통합
- endpoint: GET /ai/demo
- url: http://localhost:8000/ai/demo
- status: 200
- content_type: application/json
- description: 기록 피드백/로드맵/기술카드/코멘트/추천 등 핵심 AI 기능을 한 번에 반환합니다.
- implementation: DemoAIAPIView가 내부 서비스(RecordCoach/RelatedRoadmaps/TechCard 등)를 호출해 통합 응답을 구성합니다.
- response:
```
{
  "meta": {
    "generated_at": "2025-12-23T00:33:31.238327",
    "roadmap_id": "rm_frontend",
    "tech_slug": "react",
    "user_id": "user_1",
    "compose_level": "quick"
  },
  "record_coach": {
    "record_id": "rec1",
    "model_version": "rule-based",
    "prompt_version": "record_coach_v1",
    "created_at": "2025-12-23T00:33:15.016510",
    "scores": {
      "evidence_level": 3,
      "structure_score": 75,
      "specificity_score": 0,
      "reproducibility_score": 100,
      "quality_score": 68
    },
    "strengths": [
      "링크 기반 근거가 있어 신뢰도가 높다",
      "목표/문제/해결 구조가 일정 부분 보인다",
      "재현 가능한 링크가 포함되어 있다"
    ],
    "gaps": [
      "구체적인 수치나 에러 메시지가 부족하다"
    ],
    "rewrite_suggestions": {
      "portfolio_bullets": [],
      "improved_memo": ""
    },
    "code_feedback": {},
    "next_actions": [
      {
        "effort": "2h",
        "task": "에러 로그/수치 기록 및 원인 분석 추가"
      }
    ],
    "followup_questions": [
      "에러 메시지나 성능 수치를 포함해줄 수 있나요?"
    ],
    "retrieval_evidence": [
      {
        "source": "good_record_examples",
        "id": "good_record:0",
        "snippet": "목표: React useEffect 동작을 정확히 이해한다. 해결: lint 규칙 추가 및 의존성 배열 수정."
      },
      {
        "source": "good_record_examples",
        "id": "good_record:1",
        "snippet": "문제: 대용량 목록 조회에서 응답 지연. 해결: cursor 기반 페이징 도입, 쿼리 인덱스 추가."
      },
      {
        "source": "common_pitfalls",
        "id": "pitfall:react:0",
        "snippet": "의존성 배열을 누락해 무한 렌더가 발생하는 케이스가 많다."
      },
      {
        "source": "common_pitfalls",
        "id": "pitfall:database:0",
        "snippet": "인덱스 없이 대량 조회를 해서 응답이 느려지는 문제가 자주 발생한다."
      },
      {
        "source": "common_pitfalls",
        "id": "pitfall:react:1",
        "snippet": "상태 업데이트가 비동기라서 최신 값이 반영되지 않는 경우가 있다."
      },
      {
        "source": "tech_card",
        "id": "tech_card:django",
        "snippet": "Django는 안정적인 웹 개발을 위해 MTV 구조와 풍부한 ORM 기능을 제공한다."
      },
      {
        "source": "tech_card",
        "id": "tech_card:react",
        "snippet": "React는 UI를 만들기 위한 JavaScript 라이브러리다. 성능 최적화를 위해 memoization 전략을 제공한다."
      }
    ]
  },
  "related_roadmaps": {
    "roadmap_id": "rm_frontend",
    "generated_at": "2025-12-23T00:33:15.016550",
    "candidates": [
      {
        "related_roadmap_id": "rm_react",
        "score": 1.0,
        "reasons": [
          {
            "type": "co_follow",
            "value": 0.32
          },
          {
            "type": "co_complete",
            "value": 0.41
          },
          {
            "type": "social",
            "value": 0.25
          },
          {
            "type": "tag_overlap",
            "value": 1
          }
        ]
      },
      {
        "related_roadmap_id": "rm_backend",
        "score": 0.5271,
        "reasons": [
          {
            "type": "co_follow",
            "value": 0.18
          },
          {
            "type": "co_complete",
            "value": 0.15
          }
        ]
      }
    ],
    "model_version": "ranker_v1",
    "evidence_snapshot": {
      "tracks": [
        "co_follow",
        "co_complete",
        "content",
        "social"
      ],
      "candidate_count": 2
    }
  },
  "tech_card": {
    "id": "card_react",
    "name": "react",
    "category": "tech",
    "tech_slug": "react",
    "version": "2025-12-23",
    "summary": "How to go through the React docs : r/reactjs. How to go through the React docs.",
    "summary_vector": [
      0.35355339059327373,
      0.0,
      0.0,
      0.0,
      0.0,
      0.35355339059327373,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.17677669529663687,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.5303300858899106,
      0.0,
      0.0,
      0.0,
      0.35355339059327373,
      0.0,
      0.17677669529663687,
      0.0,
      0.0,
      0.0,
      0.35355339059327373,
      0.0,
      0.0,
      0.35355339059327373,
      0.17677669529663687
    ],
    "why_it_matters": [
      "업계 표준에 가까운 사용 사례를 확보할 수 있다",
      "팀 협업과 유지보수에 필요한 패턴을 제공한다"
    ],
    "when_to_use": [
      "UI/서비스의 구조를 빠르게 확장해야 할 때",
      "문서와 커뮤니티 리소스가 풍부한 기술을 원할 때"
    ],
    "alternatives": [
      {
        "slug": "vue",
        "why": "학습 난이도가 낮고 템플릿 기반 개발을 선호할 때"
      }
    ],
    "pitfalls": [
      "의존성 배열을 누락해 무한 렌더가 발생하는 케이스가 많다.",
      "상태 업데이트가 비동기라서 최신 값이 반영되지 않는 경우가 있다."
    ],
    "learning_path": [
      {
        "stage": "basic",
        "items": [
          "핵심 개념 이해",
          "기본 예제 구현"
        ]
      },
      {
        "stage": "practice",
        "items": [
          "작은 기능 단위 프로젝트",
          "성능/품질 개선"
        ]
      }
    ],
    "metadata": {
      "language": "JavaScript",
      "license": "unknown",
      "latest_version": "2025-12-23",
      "last_updated": "2025-12-23"
    },
    "relationships": {
      "based_on": [],
      "alternatives": [
        {
          "slug": "vue",
          "why": "학습 난이도가 낮고 템플릿 기반 개발을 선호할 때"
        }
      ]
    },
    "reliability_metrics": {
      "community_score": 94,
      "doc_freshness": 60,
      "source_count": 5
    },
    "latest_changes": {
      "changed": true,
      "change_ratio": 0.8416,
      "summary": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
    },
    "reel_evidence": [
      {
        "query": "license",
        "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
      },
      {
        "query": "version",
        "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
      },
      {
        "query": "dependency",
        "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
      },
      {
        "query": "release",
        "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
      }
    ],
    "sources": [
      {
        "title": "Learn React the Right Way (Beginner to Advanced) - YouTube",
        "url": "https://www.youtube.com/watch?v=CEVvtF-XxNs",
        "fetched_at": "2025-12-23"
      },
      {
        "title": "React Router Official Documentation",
        "url": "https://reactrouter.com/",
        "fetched_at": "2025-12-23"
      },
      {
        "title": "How to go through the React docs : r/reactjs - Reddit",
        "url": "https://www.reddit.com/r/reactjs/comments/166p1ye/how_to_go_through_the_react_docs/",
        "fetched_at": "2025-12-23"
      },
      {
        "title": "React 공식 문서",
        "url": "https://react.dev",
        "fetched_at": "2025-01-02"
      },
      {
        "title": "React Release Notes",
        "url": "https://react.dev/learn",
        "fetched_at": "2025-01-05"
      }
    ],
    "generated_by": {
      "model_version": "compose_v1",
      "prompt_version": "tech_card_v1"
    }
  },
  "tech_fingerprint": {
    "roadmap_id": "rm_frontend",
    "tags": [],
    "generated_at": "2025-12-23T00:33:25.751334",
    "model_version": "tagger_v1"
  },
  "comment_digest": {
    "roadmap_id": "rm_frontend",
    "period": "last_14d",
    "highlights": [
      "useEffect에서 의존성 배열을 비우면 렌더가 반복돼요",
      "JS async/await 에러 처리를 어떻게 정리하나요?"
    ],
    "bottlenecks": [
      {
        "node_id": "node_js",
        "score": 1.0,
        "top_topics": [
          "질문 빈도 증가"
        ]
      }
    ],
    "generated_by": {
      "model_version": "digest_v1",
      "prompt_version": null
    }
  },
  "duplicate_suggest": [
    {
      "comment_id": "c2",
      "snippet": "JS async/await 에러 처리를 어떻게 정리하나요?"
    },
    {
      "comment_id": "c1",
      "snippet": "useEffect에서 의존성 배열을 비우면 렌더가 반복돼요"
    }
  ],
  "resource_recommendation": {
    "query": "React useEffect 에러 해결 방법",
    "generated_at": "2025-12-23T00:33:29.355112",
    "items": [
      {
        "title": "React Hook useEffect has a missing dependency 오류 해결하기",
        "url": "https://bebutae.tistory.com/341",
        "source": "tavily",
        "score": 1.0
      },
      {
        "title": "[ERROR] React Hook useEffect has missing dependencies",
        "url": "https://mungchstudy.tistory.com/95",
        "source": "tavily",
        "score": 1.0
      },
      {
        "title": "React.useEffect 훅(Hook) - 일반적인 문제와 그 해결 방법",
        "url": "https://www.freecodecamp.org/korean/news/react-useeffect-hug-hook-ilbanjeogin-munjewa-geu-haegyeol-bangbeob/",
        "source": "tavily",
        "score": 1.0
      }
    ],
    "model_version": "retriever_v2",
    "retrieval_evidence": [
      {
        "source": "resource",
        "id": "resource:django:0",
        "snippet": "Django는 안정적인 웹 개발을 위해 MTV 구조와 풍부한 ORM 기능을 제공한다."
      },
      {
        "source": "resource",
        "id": "resource:react:1",
        "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
      },
      {
        "source": "resource",
        "id": "resource:react:0",
        "snippet": "React는 UI를 만들기 위한 JavaScript 라이브러리다. 컴포넌트 기반 설계와 선언형 UI가 핵심이다."
      },
      {
        "source": "tavily",
        "id": "https://bebutae.tistory.com/341",
        "snippet": "# React Hook useEffect has a missing dependency 오류 해결하기. 사실 오류 메시지도 아니고 경고 메시지라서. 리액트는 친절해서 어떤 파일의 몇번째 줄에서 문제가 발생했는지 다 알려준다. 위 이미지에서는 musiccontroller.js 파일의 38번째 줄에서 문제가 생겼다고 알려줬다. 이 코드는, 바로 다음 줄의 코드에서 eslint를 적용하지 않도록 설정해준다. eslint가 뭐냐면 자바스크립트 코드에서 문제가 있는 부분을 표시해주는 도구다. \"문제가 있어도 실행은 잘 되니깐 문제가 있는 부분은 그냥 눈감아줘~\" 다ㅎ. 근본적으로 해결하기 위해서는 useEffect에서 의존하는 부분을 집어넣어주면 되는데. #### '코딩 > 오류 모음집' 카테고리의 다른 글. | 맥에서 github 클론 할 때 remote: support for password authentication was removed on 날짜 오류 발생 해결하기  (0) | 2023.09.10 |. | ReactJS + Spring Content-Type is not supported 오류 해결 'application/json', 'application/octet-stream  (0) | 2023.09.04 |. 오류 해결 방법  (0) | 2023.08.22 |. ## **'코딩/오류 모음집'** Related Articles. * 맥에서 github 클론 할 때 remote: support for password authentication was removed on 날짜 오류 발생 해결하기. * ReactJS + Spring Content-Type is not supported 오류 해결 'application/json', 'application/octet-stream."
      },
      {
        "source": "tavily",
        "id": "https://mungchstudy.tistory.com/95",
        "snippet": "React Hook useEffect has missing dependencies: 'date', 'month', 'onGoalMark', and 'year'. useEffect(() => { const dateObj = new Date(date) const year_ = clickYear(dateObj) const month_ = clickMonth(dateObj) setYear(year_) setMonth(month_) onGoalMark({year, month}); // 업데이트된 goalData로 캘린더에 Dot 표시 }, [goalList]);. 👉 즉, useEffect 안에서 date와 month, onGoalMark, year을 사용하는데, 의존성 배열에 위의 두 변수가 추가되어있지 않다는 것이다. 👉 따라서 해당 경고를 해결하기 위해서는 useEffect 함수의 의존성 배열에 date와 month, onGoalMark, year을 추가하거나, 해당 변수를 사용하지 않는 방법 중 하나를 선택해야 한다. ✔️ ***date***와 ***month***, ***onGoalMark***, ***year***을 useEffect의 의존성 배열에 추가한다. useEffect(() => { const dateObj = new Date(date) const year_ = clickYear(dateObj) const month_ = clickMonth(dateObj) setYear(year_) setMonth(month_) onGoalMark({year, month}); }, [goalList, date, month, onGoalMark, year]);. The 'onGoalMark' function makes the dependencies of useEffect Hook (at line 75) change on every render. ✔️ ***eslint-disable-next-line react-hooks/exhaustive-deps*** 주석을 추가하면 해당 코드 라인에서만 의존성 배열 경고를 무시할 수 있다..다만, 이 방법은 의존성 배열이 불완전한 상태로 남아있을 수 있으므로 주의해서 사용해야 한다."
      },
      {
        "source": "tavily",
        "id": "https://www.freecodecamp.org/korean/news/react-useeffect-hug-hook-ilbanjeogin-munjewa-geu-haegyeol-bangbeob/",
        "snippet": "# React.useEffect 훅(Hook) - 일반적인 문제와 그 해결 방법. const useUser = (user) => { const [userData, setUserData] = useState(); useEffect(() => { if (user) { fetch('users.json').then((response) => response.json().then((users) => { return setUserData(users.find((item) => item.id === user.id)); }) ); } }, []); return userData; };. React Hook useEffect has a missing dependency: 'user'. const useUser = (user) => { const [userData, setUserData] = useState(); useEffect(() => { if (user) { fetch('users.json').then((response) => response.json().then((users) => { return setUserData(users.find((item) => item.id === user.id)); }) ); } }, [user]); return userData; };. `useEffect`가 두 객체를 비교할 때 서로 다른 참조 값(reference) 가지고 있기 때문에 다시 사용자들을 불러오고 새로운 사용자 객체를 state에 저장합니다. 이 방법은 `useEffect` 훅에서 참조 값 동일 문제를 예방할 수 있습니다. const useUser = (userId) => { const [userData, setUserData] = useState(); useEffect(() => { fetch('users.json').then((response) => response.json().then((users) => { return setUserData(users.find((item) => item.id === userId)); }) ); }, [userId]); return userData; }; const Component = () => { const user = useUser(1); return."
      }
    ]
  },
  "learning_pattern": {
    "user_id": "user_1",
    "period": "last_30d",
    "patterns": {
      "active_days": 5,
      "avg_session_gap_days": 1.25,
      "completion_velocity": 0.133
    },
    "recommendations": [
      "현재 학습 패턴이 안정적입니다. 난이도를 조금 올려보세요"
    ],
    "model_version": "pattern_v1",
    "generated_at": "2025-12-23T00:33:29.355247"
  },
  "graph_rag_context": {
    "retrieval_evidence": [
      {
        "source": "graph",
        "id": "rm_frontend:node_html",
        "snippet": "HTML 구조 html"
      },
      {
        "source": "graph",
        "id": "rm_frontend:node_css",
        "snippet": "CSS 레이아웃 css flexbox"
      },
      {
        "source": "graph",
        "id": "rm_react:node_state",
        "snippet": "상태관리 redux zustand"
      }
    ],
    "graph_snapshot": {
      "nodes": [
        {
          "node_id": "rm_frontend:node_html",
          "text": "HTML 구조 html",
          "tags": [
            "html"
          ]
        },
        {
          "node_id": "rm_frontend:node_css",
          "text": "CSS 레이아웃 css flexbox",
          "tags": [
            "css",
            "flexbox"
          ]
        },
        {
          "node_id": "rm_react:node_state",
          "text": "상태관리 redux zustand",
          "tags": [
            "redux",
            "zustand"
          ]
        }
      ],
      "edges": [
        {
          "source": "rm_frontend:node_html",
          "target": "rm_frontend:node_css",
          "type": null
        },
        {
          "source": "rm_frontend:node_css",
          "target": "rm_frontend:node_js",
          "type": null
        },
        {
          "source": "rm_backend:node_api",
          "target": "rm_backend:node_db",
          "type": null
        },
        {
          "source": "rm_react:node_hooks",
          "target": "rm_react:node_state",
          "type": null
        }
      ]
    }
  },
  "roadmap_generated": {
    "roadmap_id": "generated",
    "title": "프론트엔드 심화 로드맵",
    "description": "프론트엔드 심화을 위한 기본 학습 순서",
    "nodes": [
      {
        "node_id": "rm_frontend:node_html",
        "title": "HTML 구조 html",
        "tags": [
          "html"
        ]
      },
      {
        "node_id": "rm_frontend:node_css",
        "title": "CSS 레이아웃 css flexbox",
        "tags": [
          "css",
          "flexbox"
        ]
      },
      {
        "node_id": "rm_frontend:node_js",
        "title": "JavaScript 기초 javascript",
        "tags": [
          "javascript"
        ]
      },
      {
        "node_id": "rm_backend:node_api",
        "title": "REST API api rest",
        "tags": [
          "api",
          "rest"
        ]
      },
      {
        "node_id": "rm_backend:node_db",
        "title": "Database database sql",
        "tags": [
          "database",
          "sql"
        ]
      },
      {
        "node_id": "rm_react:node_hooks",
        "title": "Hooks react hooks",
        "tags": [
          "react",
          "hooks"
        ]
      }
    ],
    "edges": [
      {
        "source": "rm_frontend:node_html",
        "target": "rm_frontend:node_css",
        "type": null
      },
      {
        "source": "rm_frontend:node_css",
        "target": "rm_frontend:node_js",
        "type": null
      },
      {
        "source": "rm_frontend:node_js",
        "target": "rm_backend:node_api",
        "type": null
      },
      {
        "source": "rm_backend:node_api",
        "target": "rm_backend:node_db",
        "type": null
      },
      {
        "source": "rm_backend:node_db",
        "target": "rm_react:node_hooks",
        "type": null
      }
    ],
    "tags": [
      "api",
      "css",
      "database",
      "flexbox",
      "frontend",
      "hooks",
      "html",
      "javascript",
      "react",
      "rest",
      "sql"
    ],
    "model_version": "rule-based",
    "prompt_version": "roadmap_gen_v1",
    "created_at": "2025-12-23T00:33:29.378414",
    "retrieval_evidence": [
      {
        "source": "graph",
        "id": "rm_frontend:node_js",
        "snippet": "JavaScript 기초 javascript"
      },
      {
        "source": "graph",
        "id": "rm_backend:node_db",
        "snippet": "Database database sql"
      },
      {
        "source": "graph",
        "id": "rm_frontend:node_css",
        "snippet": "CSS 레이아웃 css flexbox"
      },
      {
        "source": "graph",
        "id": "rm_frontend:node_js",
        "snippet": "JavaScript 기초 javascript"
      },
      {
        "source": "graph",
        "id": "rm_react:node_state",
        "snippet": "상태관리 redux zustand"
      },
      {
        "source": "graph",
        "id": "rm_backend:node_api",
        "snippet": "REST API api rest"
      }
    ]
  },
  "learning_coach": {
    "user_id": "user_1",
    "question": "React useEffect 에러 해결 방법",
    "intent": "error",
    "toolchain": [
      "doc_retriever"
    ],
    "plan": [
      "route",
      "retrieve",
      "compose"
    ],
    "answer": "관련 자료: React Hook useEffect has a missing dependency 오류 해결하기 https://bebutae.tistory.com/341",
    "retrieval_evidence": [
      {
        "source": "resource",
        "id": "resource:django:0",
        "snippet": "Django는 안정적인 웹 개발을 위해 MTV 구조와 풍부한 ORM 기능을 제공한다."
      },
      {
        "source": "tavily",
        "id": "https://bebutae.tistory.com/341",
        "snippet": "# React Hook useEffect has a missing dependency 오류 해결하기. 사실 오류 메시지도 아니고 경고 메시지라서. 리액트는 친절해서 어떤 파일의 몇번째 줄에서 문제가 발생했는지 다 알려준다. 위 이미지에서는 musiccontroller.js 파일의 38번째 줄에서 문제가 생겼다고 알려줬다. 이 코드는, 바로 다음 줄의 코드에서 eslint를 적용하지 않도록 설정해준다. eslint가 뭐냐면 자바스크립트 코드에서 문제가 있는 부분을 표시해주는 도구다. \"문제가 있어도 실행은 잘 되니깐 문제가 있는 부분은 그냥 눈감아줘~\" 다ㅎ. 근본적으로 해결하기 위해서는 useEffect에서 의존하는 부분을 집어넣어주면 되는데. #### '코딩 > 오류 모음집' 카테고리의 다른 글. | 맥에서 github 클론 할 때 remote: support for password authentication was removed on 날짜 오류 발생 해결하기  (0) | 2023.09.10 |. | ReactJS + Spring Content-Type is not supported 오류 해결 'application/json', 'application/octet-stream  (0) | 2023.09.04 |. 오류 해결 방법  (0) | 2023.08.22 |. ## **'코딩/오류 모음집'** Related Articles. * 맥에서 github 클론 할 때 remote: support for password authentication was removed on 날짜 오류 발생 해결하기. * ReactJS + Spring Content-Type is not supported 오류 해결 'application/json', 'application/octet-stream."
      }
    ],
    "behavior_summary": {
      "motivation": 0.17,
      "ability": 0.8,
      "prompt_hour": 0,
      "dropout_risk": 0.0117
    },
    "model_version": "coach_v1",
    "prompt_version": "coach_v1",
    "created_at": "2025-12-23T00:33:31.237082",
    "cache_hit": false
  },
  "roadmap_recommendation": {
    "roadmap_id": "roadmap:frontend_dev",
    "target_role": "frontend_dev",
    "nodes": [
      {
        "node_id": "node_html",
        "status": "COMPLETED"
      },
      {
        "node_id": "node_css",
        "status": "AVAILABLE"
      },
      {
        "node_id": "node_js",
        "status": "AVAILABLE"
      }
    ],
    "edges": [
      {
        "source": "node_html",
        "target": "node_css",
        "type": "hard"
      },
      {
        "source": "node_css",
        "target": "node_js",
        "type": "hard"
      }
    ],
    "gnn_predictions": {
      "node_html": [
        "node_css"
      ],
      "node_css": [
        "node_js"
      ],
      "node_js": []
    },
    "model_version": "roadmap_graph_v1",
    "created_at": "2025-12-23T00:33:31.238321"
  }
}
```

## 학습 기록 피드백 (Record Coach)
- endpoint: GET /ai/record-coach
- url: http://localhost:8000/ai/record-coach?compose_level=quick
- status: 200
- content_type: application/json
- query_params: `{"compose_level": "quick"}`
- description: 학습 기록을 루브릭으로 평가하고 개선 제안을 반환합니다.
- implementation: RecordCoachService가 루브릭 점수화→근거 검색→필요 시 LLM 정제를 수행합니다.
- response:
```
{
  "record_id": "rec1",
  "model_version": "rule-based",
  "prompt_version": "record_coach_v1",
  "created_at": "2025-12-23T00:33:31.268563",
  "scores": {
    "evidence_level": 3,
    "structure_score": 75,
    "specificity_score": 0,
    "reproducibility_score": 100,
    "quality_score": 68
  },
  "strengths": [
    "링크 기반 근거가 있어 신뢰도가 높다",
    "목표/문제/해결 구조가 일정 부분 보인다",
    "재현 가능한 링크가 포함되어 있다"
  ],
  "gaps": [
    "구체적인 수치나 에러 메시지가 부족하다"
  ],
  "rewrite_suggestions": {
    "portfolio_bullets": [],
    "improved_memo": ""
  },
  "code_feedback": {},
  "next_actions": [
    {
      "effort": "2h",
      "task": "에러 로그/수치 기록 및 원인 분석 추가"
    }
  ],
  "followup_questions": [
    "에러 메시지나 성능 수치를 포함해줄 수 있나요?"
  ],
  "retrieval_evidence": [
    {
      "source": "common_pitfalls",
      "id": "pitfall:react:0",
      "snippet": "의존성 배열을 누락해 무한 렌더가 발생하는 케이스가 많다."
    },
    {
      "source": "common_pitfalls",
      "id": "pitfall:react:1",
      "snippet": "상태 업데이트가 비동기라서 최신 값이 반영되지 않는 경우가 있다."
    },
    {
      "source": "common_pitfalls",
      "id": "pitfall:database:0",
      "snippet": "인덱스 없이 대량 조회를 해서 응답이 느려지는 문제가 자주 발생한다."
    },
    {
      "source": "good_record_examples",
      "id": "good_record:0",
      "snippet": "목표: React useEffect 동작을 정확히 이해한다. 해결: lint 규칙 추가 및 의존성 배열 수정."
    },
    {
      "source": "good_record_examples",
      "id": "good_record:1",
      "snippet": "문제: 대용량 목록 조회에서 응답 지연. 해결: cursor 기반 페이징 도입, 쿼리 인덱스 추가."
    },
    {
      "source": "tech_card",
      "id": "tech_card:django",
      "snippet": "Django는 안정적인 웹 개발을 위해 MTV 구조와 풍부한 ORM 기능을 제공한다."
    },
    {
      "source": "tech_card",
      "id": "tech_card:react",
      "snippet": "React는 UI를 만들기 위한 JavaScript 라이브러리다. 성능 최적화를 위해 memoization 전략을 제공한다."
    }
  ]
}
```

## 연관 로드맵 추천
- endpoint: GET /ai/related-roadmaps
- url: http://localhost:8000/ai/related-roadmaps?roadmap_id=rm_frontend
- status: 200
- content_type: application/json
- query_params: `{"roadmap_id": "rm_frontend"}`
- description: 태그/행동/그래프 유사도를 종합해 연관 로드맵 후보를 제공합니다.
- implementation: RelatedRoadmapsService에서 후보 생성과 가중치 기반 랭킹을 수행합니다.
- response:
```
{
  "roadmap_id": "rm_frontend",
  "generated_at": "2025-12-23T00:33:31.271382",
  "candidates": [
    {
      "related_roadmap_id": "rm_react",
      "score": 1.0,
      "reasons": [
        {
          "type": "co_follow",
          "value": 0.32
        },
        {
          "type": "co_complete",
          "value": 0.41
        },
        {
          "type": "social",
          "value": 0.25
        },
        {
          "type": "tag_overlap",
          "value": 1
        }
      ]
    },
    {
      "related_roadmap_id": "rm_backend",
      "score": 0.5271,
      "reasons": [
        {
          "type": "co_follow",
          "value": 0.18
        },
        {
          "type": "co_complete",
          "value": 0.15
        }
      ]
    }
  ],
  "model_version": "ranker_v1",
  "evidence_snapshot": {
    "tracks": [
      "co_follow",
      "co_complete",
      "content",
      "social"
    ],
    "candidate_count": 2
  }
}
```

## 기술 카드
- endpoint: GET /ai/tech-cards
- url: http://localhost:8000/ai/tech-cards?tech_slug=react
- status: 200
- content_type: application/json
- query_params: `{"tech_slug": "react"}`
- description: 기술 요약/사용 시점/대안/주의/학습 경로를 카드 형태로 제공합니다.
- implementation: TechCardService가 로컬 소스+웹 검색을 수집해 스냅샷 생성/캐시합니다.
- response:
```
{
  "id": "card_react",
  "name": "react",
  "category": "tech",
  "tech_slug": "react",
  "version": "2025-12-23",
  "summary": "How to go through the React docs : r/reactjs. How to go through the React docs.",
  "summary_vector": [
    0.35355339059327373,
    0.0,
    0.0,
    0.0,
    0.0,
    0.35355339059327373,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.17677669529663687,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.5303300858899106,
    0.0,
    0.0,
    0.0,
    0.35355339059327373,
    0.0,
    0.17677669529663687,
    0.0,
    0.0,
    0.0,
    0.35355339059327373,
    0.0,
    0.0,
    0.35355339059327373,
    0.17677669529663687
  ],
  "why_it_matters": [
    "업계 표준에 가까운 사용 사례를 확보할 수 있다",
    "팀 협업과 유지보수에 필요한 패턴을 제공한다"
  ],
  "when_to_use": [
    "UI/서비스의 구조를 빠르게 확장해야 할 때",
    "문서와 커뮤니티 리소스가 풍부한 기술을 원할 때"
  ],
  "alternatives": [
    {
      "slug": "vue",
      "why": "학습 난이도가 낮고 템플릿 기반 개발을 선호할 때"
    }
  ],
  "pitfalls": [
    "의존성 배열을 누락해 무한 렌더가 발생하는 케이스가 많다.",
    "상태 업데이트가 비동기라서 최신 값이 반영되지 않는 경우가 있다."
  ],
  "learning_path": [
    {
      "stage": "basic",
      "items": [
        "핵심 개념 이해",
        "기본 예제 구현"
      ]
    },
    {
      "stage": "practice",
      "items": [
        "작은 기능 단위 프로젝트",
        "성능/품질 개선"
      ]
    }
  ],
  "metadata": {
    "language": "JavaScript",
    "license": "unknown",
    "latest_version": "v7",
    "last_updated": "2025-12-23"
  },
  "relationships": {
    "based_on": [],
    "alternatives": [
      {
        "slug": "vue",
        "why": "학습 난이도가 낮고 템플릿 기반 개발을 선호할 때"
      }
    ]
  },
  "reliability_metrics": {
    "community_score": 94,
    "doc_freshness": 60,
    "source_count": 5
  },
  "latest_changes": {
    "changed": true,
    "change_ratio": 0.8416,
    "summary": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
  },
  "reel_evidence": [
    {
      "query": "license",
      "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
    },
    {
      "query": "version",
      "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
    },
    {
      "query": "dependency",
      "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
    },
    {
      "query": "release",
      "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
    }
  ],
  "sources": [
    {
      "title": "Learn React the Right Way (Beginner to Advanced) - YouTube",
      "url": "https://www.youtube.com/watch?v=CEVvtF-XxNs",
      "fetched_at": "2025-12-23"
    },
    {
      "title": "React Router Official Documentation",
      "url": "https://reactrouter.com/",
      "fetched_at": "2025-12-23"
    },
    {
      "title": "How to go through the React docs : r/reactjs - Reddit",
      "url": "https://www.reddit.com/r/reactjs/comments/166p1ye/how_to_go_through_the_react_docs/",
      "fetched_at": "2025-12-23"
    },
    {
      "title": "React 공식 문서",
      "url": "https://react.dev",
      "fetched_at": "2025-01-02"
    },
    {
      "title": "React Release Notes",
      "url": "https://react.dev/learn",
      "fetched_at": "2025-01-05"
    }
  ],
  "generated_by": {
    "model_version": "compose_v1",
    "prompt_version": "tech_card_v1"
  }
}
```

## 기술 지문
- endpoint: GET /ai/tech-fingerprint
- url: http://localhost:8000/ai/tech-fingerprint?roadmap_id=rm_frontend&include_rationale=false
- status: 200
- content_type: application/json
- query_params: `{"roadmap_id": "rm_frontend", "include_rationale": "false"}`
- description: 로드맵 텍스트에서 기술 태그를 추출하고 타입/신뢰도를 부여합니다.
- implementation: TechFingerprintService가 룰 기반 태깅과 스냅샷 캐싱을 수행합니다.
- response:
```
{
  "roadmap_id": "rm_frontend",
  "tags": [],
  "generated_at": "2025-12-23T00:33:37.638244",
  "model_version": "tagger_v1"
}
```

## 코멘트 다이제스트
- endpoint: GET /ai/comment-digest
- url: http://localhost:8000/ai/comment-digest?roadmap_id=rm_frontend
- status: 200
- content_type: application/json
- query_params: `{"roadmap_id": "rm_frontend"}`
- description: 최근 코멘트를 클러스터링하여 주요 이슈와 병목 점수를 반환합니다.
- implementation: CommentIntelligenceService가 TF-IDF + 군집화로 요약합니다.
- response:
```
{
  "roadmap_id": "rm_frontend",
  "period": "last_14d",
  "highlights": [
    "useEffect에서 의존성 배열을 비우면 렌더가 반복돼요",
    "JS async/await 에러 처리를 어떻게 정리하나요?"
  ],
  "bottlenecks": [
    {
      "node_id": "node_js",
      "score": 1.0,
      "top_topics": [
        "질문 빈도 증가"
      ]
    }
  ],
  "generated_by": {
    "model_version": "digest_v1",
    "prompt_version": null
  }
}
```

## 중복 질문 추천
- endpoint: GET /ai/comment-duplicates
- url: http://localhost:8000/ai/comment-duplicates?roadmap_id=rm_frontend&query=React+useEffect+%EC%97%90%EB%9F%AC
- status: 200
- content_type: application/json
- query_params: `{"roadmap_id": "rm_frontend", "query": "React useEffect 에러"}`
- description: 질문 작성 중 유사 질문을 추천하여 중복 문의를 줄입니다.
- implementation: CommentIntelligenceService가 TF-IDF 코사인 유사도로 후보를 반환합니다.
- response:
```
[
  {
    "comment_id": "c2",
    "snippet": "JS async/await 에러 처리를 어떻게 정리하나요?"
  },
  {
    "comment_id": "c1",
    "snippet": "useEffect에서 의존성 배열을 비우면 렌더가 반복돼요"
  }
]
```

## 학습 자료 추천
- endpoint: GET /ai/resource-recommendation
- url: http://localhost:8000/ai/resource-recommendation?query=React+hooks&top_k=3&recency_days=30
- status: 200
- content_type: application/json
- query_params: `{"query": "React hooks", "top_k": 3, "recency_days": 30}`
- description: 로컬 지식베이스와 최신 웹 검색 결과를 합쳐 자료를 추천합니다.
- implementation: ResourceRecommendationService가 BM25+벡터 검색과 WebSearchService 결과를 병합합니다.
- response:
```
{
  "query": "React hooks",
  "generated_at": "2025-12-23T00:33:39.460546",
  "items": [
    {
      "title": "All React hooks in one short. - Medium",
      "url": "https://medium.com/@AbidKazmi/all-react-hooks-in-one-short-4b0ed4b5a6e4",
      "source": "tavily",
      "score": 1.0
    },
    {
      "title": "React Hooks - W3Schools",
      "url": "https://www.w3schools.com/react/react_hooks.asp",
      "source": "tavily",
      "score": 1.0
    },
    {
      "title": "What are hooks? : r/react - Reddit",
      "url": "https://www.reddit.com/r/react/comments/11ftu0p/what_are_hooks/",
      "source": "tavily",
      "score": 1.0
    }
  ],
  "model_version": "retriever_v2",
  "retrieval_evidence": [
    {
      "source": "resource",
      "id": "resource:django:0",
      "snippet": "Django는 안정적인 웹 개발을 위해 MTV 구조와 풍부한 ORM 기능을 제공한다."
    },
    {
      "source": "resource",
      "id": "resource:react:0",
      "snippet": "React는 UI를 만들기 위한 JavaScript 라이브러리다. 컴포넌트 기반 설계와 선언형 UI가 핵심이다."
    },
    {
      "source": "resource",
      "id": "resource:react:1",
      "snippet": "Hooks를 통해 컴포넌트 로직을 재사용할 수 있다. 성능 최적화를 위해 memoization 전략을 제공한다."
    },
    {
      "source": "tavily",
      "id": "https://medium.com/@AbidKazmi/all-react-hooks-in-one-short-4b0ed4b5a6e4",
      "snippet": "React hooks are a powerful feature in React that allow you to add state and other features to functional components."
    },
    {
      "source": "tavily",
      "id": "https://www.w3schools.com/react/react_hooks.asp",
      "snippet": "## React Tutorial. ## React Hooks. React useState React useEffect React useContext React useRef React useReducer React useCallback React useMemo React Custom Hooks. # React Hooks. Hooks allow functions to have access to state and other React features without using classes. ## What is a Hook? Hooks are functions that let you \"hook into\" React state and lifecycle features from functional components. Here is an example of a Hook. You must `import` Hooks from `react`. Here we are using the `useState` Hook to keep track of the application state. ## Hook Rules. There are 3 rules for hooks:. * Hooks can only be called inside React function components. **Note:** Hooks will not work in React class components. ## Custom Hooks. If you have stateful logic that needs to be reused in several components, you can build your own custom Hooks. If you want to report an error, or if you want to make a suggestion, send us an e-mail:."
    },
    {
      "source": "tavily",
      "id": "https://www.reddit.com/r/react/comments/11ftu0p/what_are_hooks/",
      "snippet": "A hook is function that gives you access to React 's internal Memory. You gain access to a value and a command to modify this value. A query and"
    }
  ]
}
```

## 학습 패턴 분석
- endpoint: GET /ai/learning-pattern
- url: http://localhost:8000/ai/learning-pattern?user_id=user_1&days=14
- status: 200
- content_type: application/json
- query_params: `{"user_id": "user_1", "days": 14}`
- description: 학습 활동 로그를 분석해 활동 일수/세션 간격/완료 속도를 제공합니다.
- implementation: LearningPatternService가 이벤트 로그를 집계하고 스냅샷 캐시합니다.
- response:
```
{
  "user_id": "user_1",
  "period": "last_14d",
  "patterns": {
    "active_days": 5,
    "avg_session_gap_days": 1.25,
    "completion_velocity": 0.286
  },
  "recommendations": [
    "현재 학습 패턴이 안정적입니다. 난이도를 조금 올려보세요"
  ],
  "model_version": "pattern_v1",
  "generated_at": "2025-12-23T00:33:39.468898"
}
```

## 학습 코치 Q&A
- endpoint: GET /ai/learning-coach
- url: http://localhost:8000/ai/learning-coach?user_id=user_1&question=React+useEffect+%EC%97%90%EB%9F%AC&compose_level=quick
- status: 200
- content_type: application/json
- query_params: `{"user_id": "user_1", "question": "React useEffect 에러", "compose_level": "quick"}`
- description: 질문 의도 분류→도구 실행→답변 구성을 수행하는 학습 코치 응답입니다.
- implementation: LearningCoachService가 GraphRAG/Resource 추천/Cache를 결합해 답변을 구성합니다.
- response:
```
{
  "user_id": "user_1",
  "question": "React useEffect 에러",
  "intent": "error",
  "toolchain": [
    "doc_retriever"
  ],
  "plan": [
    "route",
    "retrieve",
    "compose"
  ],
  "answer": "관련 자료: How To Fix the “React Hook useEffect Has a Missing ... https://kinsta.com/blog/react-hook-useeffect-has-a-missing-dependency/",
  "retrieval_evidence": [
    {
      "source": "resource",
      "id": "resource:django:0",
      "snippet": "Django는 안정적인 웹 개발을 위해 MTV 구조와 풍부한 ORM 기능을 제공한다."
    },
    {
      "source": "tavily",
      "id": "https://kinsta.com/blog/react-hook-useeffect-has-a-missing-dependency/",
      "snippet": "One common error that developers encounter is the “React Hook useEffect has a missing dependency. The “React Hook useEffect has a missing dependency” error occurs when the `useEffect` Hook has a dependency array that is incomplete or missing. ## 3 Ways To Fix the “React Hook useEffect Has a Missing Dependency” Error. The straightforward way to solve this error is to include all the dependencies used in the `useEffect` hook into the dependency array. By adding the `count` variable to the dependency array, we tell React to re-execute the `useEffect` hook whenever the count variable changes. When working with objects and Arrays, it’s not enough to add them to your dependency array, you will need to either memoize them or move them into the `useEffect` hook or outside the component to avoid unnecessary re-renders. The “React Hook useEffect has a missing dependency” error is a common issue faced by React developers when working with the useEffect hook."
    }
  ],
  "behavior_summary": {
    "motivation": 0.17,
    "ability": 0.8,
    "prompt_hour": 0,
    "dropout_risk": 0.0117
  },
  "model_version": "coach_v1",
  "prompt_version": "coach_v1",
  "created_at": "2025-12-23T00:33:41.396409",
  "cache_hit": false
}
```

## 로드맵 생성
- endpoint: GET /ai/roadmap-generated
- url: http://localhost:8000/ai/roadmap-generated?goal=React+%ED%95%99%EC%8A%B5&preferred_tags=react&compose_level=quick
- status: 200
- content_type: application/json
- query_params: `{"goal": "React 학습", "preferred_tags": "react", "compose_level": "quick"}`
- description: 목표와 선호 태그를 기반으로 로드맵을 생성합니다.
- implementation: RoadmapGeneratorService가 GraphRAG 컨텍스트 기반으로 로드맵을 구성합니다.
- response:
```
{
  "roadmap_id": "generated",
  "title": "React 학습 로드맵",
  "description": "React 학습을 위한 기본 학습 순서",
  "nodes": [
    {
      "node_id": "rm_react:node_hooks",
      "title": "Hooks react hooks",
      "tags": [
        "react",
        "hooks"
      ]
    },
    {
      "node_id": "rm_frontend:node_html",
      "title": "HTML 구조 html",
      "tags": [
        "html"
      ]
    },
    {
      "node_id": "rm_frontend:node_css",
      "title": "CSS 레이아웃 css flexbox",
      "tags": [
        "css",
        "flexbox"
      ]
    },
    {
      "node_id": "rm_frontend:node_js",
      "title": "JavaScript 기초 javascript",
      "tags": [
        "javascript"
      ]
    },
    {
      "node_id": "rm_backend:node_api",
      "title": "REST API api rest",
      "tags": [
        "api",
        "rest"
      ]
    },
    {
      "node_id": "rm_backend:node_db",
      "title": "Database database sql",
      "tags": [
        "database",
        "sql"
      ]
    }
  ],
  "edges": [
    {
      "source": "rm_react:node_hooks",
      "target": "rm_frontend:node_html",
      "type": null
    },
    {
      "source": "rm_frontend:node_html",
      "target": "rm_frontend:node_css",
      "type": null
    },
    {
      "source": "rm_frontend:node_css",
      "target": "rm_frontend:node_js",
      "type": null
    },
    {
      "source": "rm_frontend:node_js",
      "target": "rm_backend:node_api",
      "type": null
    },
    {
      "source": "rm_backend:node_api",
      "target": "rm_backend:node_db",
      "type": null
    }
  ],
  "tags": [
    "api",
    "css",
    "database",
    "flexbox",
    "hooks",
    "html",
    "javascript",
    "react",
    "rest",
    "sql"
  ],
  "model_version": "rule-based",
  "prompt_version": "roadmap_gen_v1",
  "created_at": "2025-12-23T00:33:41.424411",
  "retrieval_evidence": [
    {
      "source": "graph",
      "id": "rm_frontend:node_html",
      "snippet": "HTML 구조 html"
    },
    {
      "source": "graph",
      "id": "rm_frontend:node_css",
      "snippet": "CSS 레이아웃 css flexbox"
    },
    {
      "source": "graph",
      "id": "rm_react:node_state",
      "snippet": "상태관리 redux zustand"
    },
    {
      "source": "graph",
      "id": "rm_frontend:node_js",
      "snippet": "JavaScript 기초 javascript"
    },
    {
      "source": "graph",
      "id": "rm_backend:node_db",
      "snippet": "Database database sql"
    },
    {
      "source": "graph",
      "id": "rm_react:node_hooks",
      "snippet": "Hooks react hooks"
    }
  ]
}
```

## 그래프 기반 로드맵 추천
- endpoint: GET /ai/roadmap-recommendation
- url: http://localhost:8000/ai/roadmap-recommendation?target_role=frontend_dev&user_id=user_1
- status: 200
- content_type: application/json
- query_params: `{"target_role": "frontend_dev", "user_id": "user_1"}`
- description: 목표 역할 기준 학습 순서를 그래프와 GNN으로 추천합니다.
- implementation: RoadmapRecommendationService가 온톨로지+GraphSAGE로 예측을 생성합니다.
- response:
```
{
  "roadmap_id": "roadmap:frontend_dev",
  "target_role": "frontend_dev",
  "nodes": [
    {
      "node_id": "node_html",
      "status": "COMPLETED"
    },
    {
      "node_id": "node_css",
      "status": "AVAILABLE"
    },
    {
      "node_id": "node_js",
      "status": "AVAILABLE"
    }
  ],
  "edges": [
    {
      "source": "node_html",
      "target": "node_css",
      "type": "hard"
    },
    {
      "source": "node_css",
      "target": "node_js",
      "type": "hard"
    }
  ],
  "gnn_predictions": {
    "node_html": [
      "node_css"
    ],
    "node_css": [
      "node_js"
    ],
    "node_js": []
  },
  "model_version": "roadmap_graph_v1",
  "created_at": "2025-12-23T00:33:41.427773"
}
```

## 문서 기반 로드맵 추천
- endpoint: POST /ai/document-roadmap
- url: http://localhost:8000/ai/document-roadmap
- status: 200
- content_type: application/json
- body: `{"document": "Python과 Django를 공부했습니다", "goal": "Backend"}`
- description: 문서 요약/키워드 추출 후 관련 로드맵을 추천합니다.
- implementation: DocumentRoadmapAPIView가 키워드 추출과 GraphRAG 컨텍스트를 조합합니다.
- response:
```
{
  "document_summary": "문서 분석 결과: Python과 Django를 공부했습니다",
  "extracted_keywords": [
    "python",
    "django"
  ],
  "recommended_roadmaps": [
    {
      "related_roadmap_id": "rm_frontend:node_html",
      "score": 0.95,
      "reasons": [
        {
          "type": "keyword_match",
          "value": [
            "html"
          ]
        }
      ]
    },
    {
      "related_roadmap_id": "rm_frontend:node_css",
      "score": 0.85,
      "reasons": [
        {
          "type": "keyword_match",
          "value": [
            "css",
            "flexbox"
          ]
        }
      ]
    },
    {
      "related_roadmap_id": "rm_react:node_state",
      "score": 0.75,
      "reasons": [
        {
          "type": "keyword_match",
          "value": [
            "redux",
            "zustand"
          ]
        }
      ]
    }
  ],
  "suggested_topics": [
    "html",
    "css",
    "flexbox",
    "redux",
    "zustand"
  ],
  "model_version": "document_analyzer_v1",
  "created_at": "2025-12-23T00:33:41.433097"
}
```

## 웹 검색 (Tavily/Exa)
- endpoint: GET /ai/web-search
- url: http://localhost:8000/ai/web-search?query=React+%EA%B3%B5%EC%8B%9D+%EB%AC%B8%EC%84%9C&top_k=2&recency_days=30
- status: 200
- content_type: application/json
- query_params: `{"query": "React 공식 문서", "top_k": 2, "recency_days": 30}`
- description: Tavily와 Exa를 이용해 최신 자료를 수집합니다 (recency_days 적용).
- implementation: WebSearchService가 엔진별 검색→중복 제거→스냅샷 캐시를 수행합니다.
- response:
```
{
  "query": "React 공식 문서",
  "results": [
    {
      "title": "[React] React 공식문서 한글 번역 사이트 소개, 공식 및 비공식 사이트",
      "url": "https://dev-handbook.tistory.com/132",
      "content": "# Developer's Handbook. 저는 새로운 기술을 접할 필요가 있을 때, 생각하기보다 타이핑하는 게 좀 더 익숙한 접근 방법이라서 먼저 코드를 실행시켜 보고 간단한 Toy 프로젝트를 실행하면서 부딪혀본 다음 문서를 찾아보는 버릇이 있습니다. React도 인터넷의 강좌들을 몇 개 들어보고 간단한 React 애플리케이션을 2개 정도 개발해 보니 구조에 대한 이해가 절실하다는 생각이 들었습니다. 먼저 크롬의 번역 기능으로 빠르게 읽어보고 이상한 번역은 원문을 보는 방식으로 읽었습니다. React 한글 번역 공식 사이트**. 하나는 **스터디 동영상 링크가 포함**되어 있습니다. 늘 한글화 된 문서를 볼 때마다 좀 복잡한 내용의 경우 번역이 매끄럽지 않은 경우가 있습니다. 이는 **원문의 내용 자체가 이해하기 어려울 때**와, **번역하기 힘든 용어를 한글화 하면서 의미가 오역되는 경우**가 있을 때입니다. 그래서 번역본을 읽다 보면 가끔 무슨 내용인지 이해하기 힘든 경우가 있었습니다. 제 경우는 **원문을 바로 읽어볼 수 있어서** 이 비공식 한글 번역 사이트가 좀 더 마음에 드네요. React 공식 문서, React 공식 문서 스터디, React 공식 문서 한글화. Developer's Handbookbreezyday 님의 블로그입니다. | 내 블로그 - 관리자 홈 전환 | `Q`  `Q` |.",
      "score": 0.9998,
      "source": "tavily",
      "fetched_at": "2025-12-23"
    },
    {
      "title": "시작하기 - React",
      "url": "https://ko.legacy.reactjs.org/docs/getting-started.html",
      "content": "이 페이지는 React 문서 및 관련된 리소스의 개요입니다. React는 처음부터 점진적으로 적용할 수 있도록 설계되었으며 **필요한 만큼 React를 사용할 수 있습니다.** React를 맛보기로 접해보거나 간단한 HTML 페이지에 약간의 대화형 기능(interactivity)을 추가하거나 복잡한 React 기반의 앱을 시작하고자 하는 경우, 이 섹션의 링크를 통해 시작할 수 있습니다. React를 사용하는데 관심이 있다면, 온라인 코드 편집기를 사용할 수 있습니다. 각 툴체인은 많은 설정 없이 작동할 수 있고 풍부한 React 에코시스템을 최대한 활용할 수 있습니다. React 문서는 JavaScript 프로그래밍에 익숙한 사람을 대상으로 쓰여져 있습니다. 자습서에서 학습하는 기술은 *대부분의* React 앱을 구축하는 데 있어 기본이며, 이를 완전히 익히면 훨씬 더 깊은 이해할 수 있습니다. 예를 들어, `React.Component` API 참조에서는 `setState()`의 작동 방식과 각 상황에 알맞는 생명주기 메서드를 알 수 있습니다. 용어 사전에는 React 문서에 나타나는 가장 일반적인 용어의 개요가 포함되어 있습니다. 모든 React 릴리즈가 자체 블로그 게시물을 사용할 만한 것은 아니지만 릴리즈 페이지와 React의 `CHANGELOG.md` 파일에서 모든 릴리즈에 대한 자세한 변경 기록을 확인할 수 있습니다. React 16부터는 이전 버전의 문서를 별도의 페이지에서 찾을 수 있습니다.",
      "score": 0.9994,
      "source": "tavily",
      "fetched_at": "2025-12-23"
    }
  ],
  "generated_at": "2025-12-23T00:33:43.561008",
  "engines_used": [
    "tavily",
    "exa"
  ],
  "total_results": 2
}
```

## GraphRAG 컨텍스트
- endpoint: GET /ai/graph-rag
- url: http://localhost:8000/ai/graph-rag?query=React+state&top_k=2
- status: 200
- content_type: application/json
- query_params: `{"query": "React state", "top_k": 2}`
- description: 그래프 기반 근거 스니펫과 노드/엣지 스냅샷을 반환합니다.
- implementation: GraphRAGService가 벡터 검색과 인접 노드 확장으로 컨텍스트를 구성합니다.
- response:
```
{
  "retrieval_evidence": [
    {
      "source": "graph",
      "id": "rm_frontend:node_html",
      "snippet": "HTML 구조 html"
    },
    {
      "source": "graph",
      "id": "rm_frontend:node_css",
      "snippet": "CSS 레이아웃 css flexbox"
    }
  ],
  "graph_snapshot": {
    "nodes": [
      {
        "node_id": "rm_frontend:node_html",
        "text": "HTML 구조 html",
        "tags": [
          "html"
        ]
      },
      {
        "node_id": "rm_frontend:node_css",
        "text": "CSS 레이아웃 css flexbox",
        "tags": [
          "css",
          "flexbox"
        ]
      }
    ],
    "edges": [
      {
        "source": "rm_frontend:node_html",
        "target": "rm_frontend:node_css",
        "type": null
      },
      {
        "source": "rm_frontend:node_css",
        "target": "rm_frontend:node_js",
        "type": null
      },
      {
        "source": "rm_backend:node_api",
        "target": "rm_backend:node_db",
        "type": null
      },
      {
        "source": "rm_react:node_hooks",
        "target": "rm_react:node_state",
        "type": null
      }
    ]
  }
}
```
