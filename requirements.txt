# =============================================================================
# Jagalchi AI Server - 의존성 패키지 목록
# =============================================================================
# 이 파일은 프로젝트에서 사용하는 모든 Python 패키지를 정의합니다.
# 버전 고정을 통해 재현 가능한 빌드 환경을 보장합니다.
#
# 설치 방법: pip install -r requirements.txt
# 업데이트: pip-compile requirements.in (pip-tools 사용 시)
# =============================================================================

# -----------------------------------------------------------------------------
# 핵심 웹 프레임워크 (Django + DRF)
# -----------------------------------------------------------------------------
Django>=4.2,<5.0                    # 웹 프레임워크 - 안정적인 LTS 버전 사용
djangorestframework>=3.15,<4.0      # REST API 구축을 위한 표준 라이브러리
drf-spectacular>=0.27.2             # OpenAPI 3.0 스키마 자동 생성 (Swagger/ReDoc)

# -----------------------------------------------------------------------------
# ASGI 서버 (프로덕션 배포용)
# -----------------------------------------------------------------------------
gunicorn>=22.0.0                    # WSGI HTTP 서버 - 프로덕션 환경 필수
uvicorn[standard]>=0.30.0           # ASGI 서버 - 비동기 지원 및 고성능
whitenoise>=6.7.0                   # 정적 파일 서빙 최적화

# -----------------------------------------------------------------------------
# AI/LLM 클라이언트
# -----------------------------------------------------------------------------
google-genai>=1.0.0                 # Google Gemini API 공식 클라이언트
tavily-python>=0.5.0                # Tavily 검색 API - 웹 검색 및 RAG 지원
exa-py>=1.8.0                       # Exa 검색 API - 시맨틱 검색

# -----------------------------------------------------------------------------
# LangChain 생태계 (RAG 및 LLM 오케스트레이션)
# -----------------------------------------------------------------------------
langchain>=0.3.0,<0.4               # LLM 애플리케이션 프레임워크
langchain-community>=0.3.0,<0.4     # 커뮤니티 통합 (벡터스토어, 임베딩 등)
langchain-text-splitters>=0.3.0     # 텍스트 청킹 유틸리티

# -----------------------------------------------------------------------------
# 벡터 검색 및 임베딩
# -----------------------------------------------------------------------------
faiss-cpu>=1.8.0                    # Facebook AI 유사도 검색 (CPU 버전)
sentence-transformers>=3.0.0        # 문장 임베딩 모델 (SBERT)

# -----------------------------------------------------------------------------
# 데이터 처리 및 과학 계산
# -----------------------------------------------------------------------------
numpy>=1.26,<2.0                    # 수치 연산 라이브러리
scikit-learn>=1.5.0                 # 머신러닝 유틸리티 (TF-IDF, 유사도 등)
networkx>=3.3                       # 그래프 알고리즘 (로드맵 관계 분석)
rank-bm25>=0.2.2                    # BM25 검색 알고리즘 구현

# -----------------------------------------------------------------------------
# 데이터 유효성 검사 및 설정 관리
# -----------------------------------------------------------------------------
pydantic>=2.8.0                     # 데이터 유효성 검사 및 설정 관리
pydantic-settings>=2.4.0            # 환경변수 기반 설정 관리

# -----------------------------------------------------------------------------
# 로깅 및 모니터링
# -----------------------------------------------------------------------------
structlog>=24.4.0                   # 구조화된 로깅 (JSON 로그 지원)
python-json-logger>=2.0.7           # JSON 형식 로그 포맷터

# -----------------------------------------------------------------------------
# HTTP 클라이언트 및 재시도 로직
# -----------------------------------------------------------------------------
httpx>=0.27.0                       # 비동기 HTTP 클라이언트
tenacity>=9.0.0                     # 재시도 로직 라이브러리
aiohttp>=3.10.0                     # 비동기 HTTP (대체 클라이언트)

# -----------------------------------------------------------------------------
# 유틸리티
# -----------------------------------------------------------------------------
python-dotenv>=1.0.1                # .env 파일 로딩
orjson>=3.10.0                      # 고성능 JSON 파싱 (C 구현)
cachetools>=5.5.0                   # 캐싱 유틸리티 (TTL, LRU 등)
python-dateutil>=2.9.0              # 날짜/시간 유틸리티

# -----------------------------------------------------------------------------
# 개발 및 테스트 (프로덕션에서는 선택적)
# -----------------------------------------------------------------------------
pytest>=8.3.0                       # 테스트 프레임워크
pytest-django>=4.9.0                # Django 테스트 통합
pytest-asyncio>=0.24.0              # 비동기 테스트 지원
pytest-cov>=5.0.0                   # 코드 커버리지 측정
ruff>=0.6.0                         # 고속 Python 린터 및 포맷터
mypy>=1.11.0                        # 정적 타입 검사

# -----------------------------------------------------------------------------
# 보안 (프로덕션 권장)
# -----------------------------------------------------------------------------
django-cors-headers>=4.4.0          # CORS 설정 관리
mysqlclient>=2.2.0
